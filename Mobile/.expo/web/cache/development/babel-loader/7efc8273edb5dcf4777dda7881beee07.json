{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\damie\\\\Documents\\\\EzDelivery\\\\Mobile\\\\components\\\\Livraisons.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { server } from \"../constante\";\nimport axios from 'axios';\nimport { ListItem } from 'react-native-elements';\nimport { Appbar, IconButton } from 'react-native-paper';\n\nvar LivraisonsScreen = function (_React$Component) {\n  _inherits(LivraisonsScreen, _React$Component);\n\n  var _super = _createSuper(LivraisonsScreen);\n\n  function LivraisonsScreen(props) {\n    var _this;\n\n    _classCallCheck(this, LivraisonsScreen);\n\n    _this = _super.call(this, props);\n\n    _this.addLivraison = function () {\n      console.log('add');\n    };\n\n    _this.setModalVisible = function () {\n      _this.setState({\n        modalVisible: true\n      });\n\n      console.log(1);\n    };\n\n    _this.delLivraison = function _callee(id) {\n      var res, res2;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(axios.delete(server + '/api/livraisons/' + id));\n\n            case 2:\n              res = _context.sent;\n\n              if (!res.data) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(axios.get(server + '/api/livraisons/mail/' + _this.state.mail));\n\n            case 6:\n              res2 = _context.sent;\n\n              _this.setState({\n                tabLiv: res2.data\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.findBoite = function (num) {\n      for (var i = 0; i < _this.state.tabBoites.length; i++) {\n        if (num == _this.state.tabBoites[i].boite) {\n          return _this.state.tabBoites[i].nom;\n        }\n      }\n    };\n\n    _this.state = {\n      mail: 'damiendelestienne4@gmail.com',\n      tabLiv: [],\n      tabBoites: [],\n      modalVisible: false\n    };\n    return _this;\n  }\n\n  _createClass(LivraisonsScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(server + '/api/livraisons/mail/' + this.state.mail).then(function (res) {\n        _this2.setState({\n          tabLiv: res.data\n        });\n      });\n      axios.get(server + '/api/acces/' + this.state.mail).then(function (res) {\n        _this2.setState({\n          tabBoites: res.data\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, React.createElement(Modal, {\n        animationType: \"slide\",\n        transparent: true,\n        visible: this.state.modalVisible,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: styles.centeredView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 26\n        }\n      }, React.createElement(View, {\n        style: styles.modalView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: styles.modalText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 37\n        }\n      }, \"Hello World!\")))), React.createElement(Appbar.Header, {\n        style: {\n          backgroundColor: '#c0dfef'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, React.createElement(Appbar.Content, {\n        title: \"Livraisons\",\n        style: {\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }), React.createElement(Appbar.Action, {\n        icon: \"plus\",\n        onPress: this.setModalVisible,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, this.state.tabLiv.map(function (l, i) {\n        return React.createElement(ListItem, {\n          key: i,\n          bottomDivider: true,\n          style: {\n            width: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }\n        }, React.createElement(ListItem.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }\n        }, React.createElement(ListItem.Title, {\n          style: {\n            width: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 37\n          }\n        }, React.createElement(View, {\n          style: {\n            display: 'inline-block',\n            width: '90%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 41\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 45\n          }\n        }, l.nom)), React.createElement(View, {\n          style: {\n            display: 'inline-block',\n            width: '10%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 41\n          }\n        }, React.createElement(IconButton, {\n          icon: \"delete\",\n          color: \"#226557\",\n          size: 30,\n          onPress: function onPress() {\n            return _this3.delLivraison(l.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 45\n          }\n        }))), React.createElement(ListItem.Subtitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 37\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 56\n          }\n        }, \"Num\\xE9ro de colis: \", l.numcolis)), React.createElement(ListItem.Subtitle, {\n          style: {\n            width: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 37\n          }\n        }, React.createElement(View, {\n          style: {\n            display: 'inline-block',\n            width: '50%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 41\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 45\n          }\n        }, \"Pass\\xE9e le: \", new Date(l.datedebut).toLocaleDateString())), React.createElement(View, {\n          style: {\n            display: 'inline-block',\n            width: '50%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 41\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 45\n          }\n        }, \"Statut: \", l.datefin == null ? React.createElement(Text, {\n          style: {\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 78\n          }\n        }, \"Non livr\\xE9\") : React.createElement(Text, {\n          style: {\n            color: 'green'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 125\n          }\n        }, \"Livr\\xE9 le: \", new Date(l.datefin).toLocaleDateString())))), React.createElement(ListItem.Subtitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 37\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 56\n          }\n        }, \"Boites aux lettres: \", _this3.findBoite(l.boite)))));\n      })));\n    }\n  }]);\n\n  return LivraisonsScreen;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  modalView: {\n    margin: 120,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.35,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  button: {\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  buttonOpen: {\n    backgroundColor: \"#F194FF\"\n  },\n  buttonClose: {\n    backgroundColor: \"#2196F3\"\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});\nexport default LivraisonsScreen;","map":{"version":3,"sources":["C:/Users/damie/Documents/EzDelivery/Mobile/components/Livraisons.js"],"names":["React","useState","server","axios","ListItem","Appbar","IconButton","LivraisonsScreen","props","addLivraison","console","log","setModalVisible","setState","modalVisible","delLivraison","id","delete","res","data","get","state","mail","res2","tabLiv","findBoite","num","i","tabBoites","length","boite","nom","then","_isMounted","styles","centeredView","modalView","modalText","backgroundColor","alignItems","container","map","l","width","display","numcolis","Date","datedebut","toLocaleDateString","datefin","color","Component","StyleSheet","create","flex","flexDirection","margin","borderRadius","padding","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","elevation","button","buttonOpen","buttonClose","textStyle","fontWeight","textAlign","marginBottom"],"mappings":";;;;;;;;;;;;AACA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;;;;AAEA,SAAQC,MAAR;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAwB,uBAAxB;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAkC,oBAAlC;;IAGMC,gB;;;;;AACF,4BAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,8BAAMA,KAAN;;AADc,UASlBC,YATkB,GASH,YAAK;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH,KAXiB;;AAAA,UAYlBC,eAZkB,GAYA,YAAM;AACpB,YAAKC,QAAL,CAAc;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAd;;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACH,KAfiB;;AAAA,UAgBlBI,YAhBkB,GAgBJ,iBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACKb,KAAK,CAACc,MAAN,CAAaf,MAAM,GAAC,kBAAP,GAA0Bc,EAAvC,CADL;;AAAA;AACNE,cAAAA,GADM;;AAAA,mBAEPA,GAAG,CAACC,IAFG;AAAA;AAAA;AAAA;;AAAA;AAAA,+CAGUhB,KAAK,CAACiB,GAAN,CAAUlB,MAAM,GAAC,uBAAP,GAA+B,MAAKmB,KAAL,CAAWC,IAApD,CAHV;;AAAA;AAGFC,cAAAA,IAHE;;AAIN,oBAAKV,QAAL,CAAc;AAACW,gBAAAA,MAAM,EAACD,IAAI,CAACJ;AAAb,eAAd;;AAJM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAhBI;;AAAA,UAuBlBM,SAvBkB,GAuBN,UAACC,GAAD,EAAQ;AAChB,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,MAAKN,KAAL,CAAWO,SAAX,CAAqBC,MAAnC,EAA0CF,CAAC,EAA3C,EAA8C;AAC1C,YAAGD,GAAG,IAAE,MAAKL,KAAL,CAAWO,SAAX,CAAqBD,CAArB,EAAwBG,KAAhC,EAAsC;AAClC,iBAAO,MAAKT,KAAL,CAAWO,SAAX,CAAqBD,CAArB,EAAwBI,GAA/B;AACH;AACJ;AACJ,KA7BiB;;AAEd,UAAKV,KAAL,GAAW;AACPC,MAAAA,IAAI,EAAC,8BADE;AAEPE,MAAAA,MAAM,EAAC,EAFA;AAGPI,MAAAA,SAAS,EAAC,EAHH;AAIPd,MAAAA,YAAY,EAAE;AAJP,KAAX;AAFc;AAQjB;;;;WAsBD,6BAAmB;AAAA;;AACfX,MAAAA,KAAK,CAACiB,GAAN,CAAUlB,MAAM,GAAC,uBAAP,GAA+B,KAAKmB,KAAL,CAAWC,IAApD,EACCU,IADD,CACO,UAAAd,GAAG,EAAI;AAEV,QAAA,MAAI,CAACL,QAAL,CAAc;AAACW,UAAAA,MAAM,EAACN,GAAG,CAACC;AAAZ,SAAd;AACH,OAJD;AAKAhB,MAAAA,KAAK,CAACiB,GAAN,CAAUlB,MAAM,GAAC,aAAP,GAAqB,KAAKmB,KAAL,CAAWC,IAA1C,EACCU,IADD,CACO,UAAAd,GAAG,EAAI;AACV,QAAA,MAAI,CAACL,QAAL,CAAc;AAACe,UAAAA,SAAS,EAACV,GAAG,CAACC;AAAf,SAAd;AACH,OAHD;AAIH;;;WACD,gCAAuB;AACnB,WAAKc,UAAL,GAAkB,KAAlB;AACH;;;WAED,kBAAQ;AAAA;;AACJ,aACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ,oBAAC,KAAD;AACQ,QAAA,aAAa,EAAC,OADtB;AAEQ,QAAA,WAAW,EAAE,IAFrB;AAGQ,QAAA,OAAO,EAAE,KAAKZ,KAAL,CAAWP,YAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKK,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEoB,MAAM,CAACC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADR,CADH,CALL,CADR,EAYI,oBAAC,MAAD,CAAQ,MAAR;AAAgB,QAAA,KAAK,EAAE;AAACC,UAAAA,eAAe,EAAC;AAAjB,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,MAAD,CAAQ,OAAR;AAAgB,QAAA,KAAK,EAAC,YAAtB;AAAoC,QAAA,KAAK,EAAE;AAACC,UAAAA,UAAU,EAAC;AAAZ,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,MAApB;AAA2B,QAAA,OAAO,EAAE,KAAK3B,eAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CAZJ,EAmBI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEsB,MAAM,CAACM,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEY,KAAKnB,KAAL,CAAWG,MAAX,CAAkBiB,GAAlB,CAAsB,UAACC,CAAD,EAAIf,CAAJ;AAAA,eACtB,oBAAC,QAAD;AAAU,UAAA,GAAG,EAAEA,CAAf;AAAkB,UAAA,aAAa,MAA/B;AAAgC,UAAA,KAAK,EAAE;AAACgB,YAAAA,KAAK,EAAC;AAAP,WAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,QAAD,CAAU,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,QAAD,CAAU,KAAV;AAAgB,UAAA,KAAK,EAAE;AAACA,YAAAA,KAAK,EAAC;AAAP,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAACC,YAAAA,OAAO,EAAC,cAAT;AAAwBD,YAAAA,KAAK,EAAC;AAA9B,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAOD,CAAC,CAACX,GAAT,CADJ,CADJ,EAII,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAACa,YAAAA,OAAO,EAAC,cAAT;AAAyBD,YAAAA,KAAK,EAAC;AAA/B,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,UAAD;AACI,UAAA,IAAI,EAAC,QADT;AAEI,UAAA,KAAK,EAAC,SAFV;AAGI,UAAA,IAAI,EAAE,EAHV;AAII,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAAC5B,YAAL,CAAkB2B,CAAC,CAAC1B,EAApB,CAAN;AAAA,WAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CAJJ,CADJ,EAcI,oBAAC,QAAD,CAAU,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmB,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAwB0B,CAAC,CAACG,QAA1B,CAAnB,CAdJ,EAeI,oBAAC,QAAD,CAAU,QAAV;AAAmB,UAAA,KAAK,EAAE;AAACF,YAAAA,KAAK,EAAC;AAAP,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAACC,YAAAA,OAAO,EAAC,cAAT;AAAwBD,YAAAA,KAAK,EAAC;AAA9B,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAkB,IAAIG,IAAJ,CAASJ,CAAC,CAACK,SAAX,EAAsBC,kBAAtB,EAAlB,CADJ,CADJ,EAII,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAACJ,YAAAA,OAAO,EAAC,cAAT;AAAyBD,YAAAA,KAAK,EAAC;AAA/B,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAeD,CAAC,CAACO,OAAF,IAAW,IAAX,GAAkB,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAC;AAAP,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAlB,GAAiE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAACA,YAAAA,KAAK,EAAC;AAAP,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAyC,IAAIJ,IAAJ,CAASJ,CAAC,CAACO,OAAX,EAAoBD,kBAApB,EAAzC,CAAhF,CADJ,CAJJ,CAfJ,EAuBI,oBAAC,QAAD,CAAU,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmB,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAA2B,MAAI,CAACvB,SAAL,CAAeiB,CAAC,CAACZ,KAAjB,CAA3B,CAAnB,CAvBJ,CADJ,CADsB;AAAA,OAAtB,CAFZ,CAnBJ,CADJ;AAuDH;;;;EAtG0B9B,KAAK,CAACmD,S;;AAyGrC,IAAMjB,MAAM,GAAGkB,UAAU,CAACC,MAAX,CAAkB;AAC7Bb,EAAAA,SAAS,EAAE;AACPc,IAAAA,IAAI,EAAE,CADC;AAENC,IAAAA,aAAa,EAAE,QAFT;AAGPhB,IAAAA,UAAU,EAAE;AAHL,GADkB;AAK1BH,EAAAA,SAAS,EAAE;AACVoB,IAAAA,MAAM,EAAE,GADE;AAEVlB,IAAAA,eAAe,EAAE,OAFP;AAGVmB,IAAAA,YAAY,EAAE,EAHJ;AAIVC,IAAAA,OAAO,EAAE,EAJC;AAKVnB,IAAAA,UAAU,EAAE,QALF;AAMVoB,IAAAA,WAAW,EAAE,MANH;AAOVC,IAAAA,YAAY,EAAE;AACZjB,MAAAA,KAAK,EAAE,CADK;AAEZkB,MAAAA,MAAM,EAAE;AAFI,KAPJ;AAWVC,IAAAA,aAAa,EAAE,IAXL;AAYVC,IAAAA,YAAY,EAAE,CAZJ;AAaVC,IAAAA,SAAS,EAAE;AAbD,GALe;AAoB3BC,EAAAA,MAAM,EAAE;AACNR,IAAAA,YAAY,EAAE,EADR;AAENC,IAAAA,OAAO,EAAE,EAFH;AAGNM,IAAAA,SAAS,EAAE;AAHL,GApBmB;AAyB3BE,EAAAA,UAAU,EAAE;AACV5B,IAAAA,eAAe,EAAE;AADP,GAzBe;AA4B3B6B,EAAAA,WAAW,EAAE;AACX7B,IAAAA,eAAe,EAAE;AADN,GA5Bc;AA+B3B8B,EAAAA,SAAS,EAAE;AACTlB,IAAAA,KAAK,EAAE,OADE;AAETmB,IAAAA,UAAU,EAAE,MAFH;AAGTC,IAAAA,SAAS,EAAE;AAHF,GA/BgB;AAoC3BjC,EAAAA,SAAS,EAAE;AACTkC,IAAAA,YAAY,EAAE,EADL;AAETD,IAAAA,SAAS,EAAE;AAFF;AApCgB,CAAlB,CAAf;AA0CA,eAAe/D,gBAAf","sourcesContent":[" \nimport React, {useState} from 'react';  \nimport { StyleSheet, Text, View,Modal } from \"react-native\";\nimport {server} from '../constante';\nimport axios from 'axios';\nimport { ListItem} from 'react-native-elements';\nimport { Appbar, IconButton} from 'react-native-paper';\n\n \nclass LivraisonsScreen extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            mail:'damiendelestienne4@gmail.com',\n            tabLiv:[],\n            tabBoites:[],\n            modalVisible: false\n        }\n    }\n    addLivraison = () =>{\n        console.log('add');\n    }\n    setModalVisible = () => {\n        this.setState({ modalVisible: true });\n        console.log(1);\n    }\n    delLivraison =async (id) =>{\n        let res =await axios.delete(server+'/api/livraisons/'+id);\n        if(res.data){\n            let res2= await axios.get(server+'/api/livraisons/mail/'+this.state.mail);\n            this.setState({tabLiv:res2.data});\n        }\n    }\n    findBoite = (num) =>{\n        for(let i=0;i<this.state.tabBoites.length;i++){\n            if(num==this.state.tabBoites[i].boite){\n                return this.state.tabBoites[i].nom;\n            }\n        }\n    }\n    componentDidMount(){\n        axios.get(server+'/api/livraisons/mail/'+this.state.mail)\n        .then( res => {\n\n            this.setState({tabLiv:res.data});\n        })\n        axios.get(server+'/api/acces/'+this.state.mail)\n        .then( res => {\n            this.setState({tabBoites:res.data});\n        })\n    }\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    render(){\n        return (  \n            <View>\n                    <Modal\n                            animationType=\"slide\"\n                            transparent={true}\n                            visible={this.state.modalVisible}\n                    >\n                         <View style={styles.centeredView}>\n                            <View style={styles.modalView}>\n                                    <Text style={styles.modalText}>Hello World!</Text>\n                                    </View>\n                                    </View>\n                        </Modal>\n                <Appbar.Header  style={{backgroundColor:'#c0dfef'}}>\n                    \n                    <Appbar.Content title=\"Livraisons\"  style={{alignItems:'center'}}/>\n                    <Appbar.Action icon=\"plus\" onPress={this.setModalVisible} />\n\n                </Appbar.Header>\n\n                <View style={styles.container}>       \n                     {\n                            this.state.tabLiv.map((l, i) => (\n                            <ListItem key={i} bottomDivider style={{width:\"100%\"}}>\n                                <ListItem.Content>\n                                    <ListItem.Title style={{width:\"100%\"}}>\n                                        <View style={{display:'inline-block',width:'90%'}}>\n                                            <Text>{l.nom}</Text>\n                                        </View>\n                                        <View style={{display:'inline-block', width:'10%'}}>\n                                            <IconButton\n                                                icon=\"delete\"\n                                                color='#226557'\n                                                size={30}\n                                                onPress={() => this.delLivraison(l.id)}\n                                        />\n                                        </View>\n                                    </ListItem.Title>\n                                    <ListItem.Subtitle><Text>Numéro de colis: {l.numcolis}</Text></ListItem.Subtitle>\n                                    <ListItem.Subtitle style={{width:\"100%\"}}>\n                                        <View style={{display:'inline-block',width:'50%'}}>\n                                            <Text>Passée le: {new Date(l.datedebut).toLocaleDateString()}</Text>\n                                        </View>\n                                        <View style={{display:'inline-block', width:'50%'}}>\n                                            <Text>Statut: {l.datefin==null ? <Text style={{color:'red'}}>Non livré</Text> : <Text style={{color:'green'}}>Livré le: {new Date(l.datefin).toLocaleDateString()}</Text>}</Text>\n                                        </View>\n                                    </ListItem.Subtitle>\n                                    <ListItem.Subtitle><Text>Boites aux lettres: {this.findBoite(l.boite)}</Text></ListItem.Subtitle>\n                                </ListItem.Content>\n                            </ListItem>\n                            ))\n                    }\n                </View> \n            </View>\n            );  \n    }\n}\n\nconst styles = StyleSheet.create({  \n    container: {  \n        flex: 1,  \n         flexDirection: 'column', \n        alignItems: 'center'  \n    }, modalView: {\n        margin: 120,\n        backgroundColor: \"white\",\n        borderRadius: 20,\n        padding: 35,\n        alignItems: \"center\",\n        shadowColor: \"#000\",\n        shadowOffset: {\n          width: 0,\n          height: 2\n        },\n        shadowOpacity: 0.35,\n        shadowRadius: 4,\n        elevation: 5\n      },\n      button: {\n        borderRadius: 20,\n        padding: 10,\n        elevation: 2\n      },\n      buttonOpen: {\n        backgroundColor: \"#F194FF\",\n      },\n      buttonClose: {\n        backgroundColor: \"#2196F3\",\n      },\n      textStyle: {\n        color: \"white\",\n        fontWeight: \"bold\",\n        textAlign: \"center\"\n      },\n      modalText: {\n        marginBottom: 15,\n        textAlign: \"center\"\n      }\n    });\n\nexport default LivraisonsScreen;\n\n\n"]},"metadata":{},"sourceType":"module"}